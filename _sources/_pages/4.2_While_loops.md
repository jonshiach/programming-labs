# While loops

For loops are useful for when we know how many times we want to repeat a set of commands. Sometimes we might not know this and would like to loop until a certain condition is met. This is where while loops come in. The Python syntax for a while loop is

```text
while condition:
    commands to be executed
```

The lines that are indented below the while loop declaration will be executed while the `condition` returns a true result. For example, to print the numbers 0 to 4 as we did with a for loop add the following code into your program.

```python
# 4.2 While loops
print("\n4.2 While loops\n---------------")
i = 0

while i < 5:
    print(i)
    i += 1
```

With while loops we don't have a loop variable so we have defined the variable `i` and set it equal to 0. Then we have declared a while loop to loop whilst `i` is less than 5. Inside the while loop we use a `print()` command to print the current value of `i` before incrementing it by 1. Run your program and you should see the following added to the console ouput.

```text
4.2 While loops
---------------
0
1
2
3
4
```

```{warning}
A common programming error when dealing with while loops is forgetting to update the while loop condition. This can result in the condition always being true and the commands in the while loop being executed forever. This is known as an **infinite loop**. 

To demonstrate this, delete or comment out the `i += 1` command in the while loop you have just written and rerun the program. You should set lots of 0s being printed to the console since the `i` variable is always 0 which is of course less than 5. To stop the program click on the stop icon $\blacksquare$. 
```

Let use a while loop to print out all of the Fibonacci numbers that are less than 1 million. To demonstrate this, enter the following code into your program.

```python
# Fibonacci numbers less than 1 million
F = np.array([0, 1])

while F[-1] + F[-2] < 1e6:
    F = np.append(F, F[-1] + F[-2])
    
print("\nFibonacci numbers less than 1 million\n-------------------------------------")
print(F)
```

This is quite similar to the code we used before. Note that `1e6` is equal to $1 \times 10^6$, so when the first Fibonacci number greater than a million is encountered the while loop terminates. Run your program and you should see the following added to the console.

```text
Fibonacci numbers less than 1 million
-------------------------------------
[     0      1      1      2      3      5      8     13     21     34
     55     89    144    233    377    610    987   1597   2584   4181
   6765  10946  17711  28657  46368  75025 121393 196418 317811 514229
 832040]
```

---

## Exercises

```{exercise}
:label: python-while-loop-ex1

Use a while loop to print "hello again" ten times.
```

```{figure} https://imgs.xkcd.com/comics/collatz_conjecture.png
:figclass: margin

<a href="https://imgs.xkcd.com/comics/collatz_conjecture.png" target="_blank">https://xkcd.com/710</a>
```

```{exercise}
:label: python-while-loop-ex2

The <a href="https://en.wikipedia.org/wiki/Collatz_conjecture" target="_blank">Collatz conjecture</a> states that the series generated by the following rules will eventually reach 1.

$$ x_{n+1} = \begin{cases} x_n/2 & \textsf{if $x_n$ is even}, \\ 3x_n + 1 & \textsf{if $x_n$ is odd}. \end{cases} $$

For example, for $x_0 = 10$ the sequence is

$$ \begin{align*}
    10 \to 5 \to 16 \to 8 \to 4 \to 2 \to 1
\end{align*} $$

and it took 6 steps to reach 1. Write a program that uses a while loop to print the numbers in the Collatz sequence for a given starting number. How many steps does it take for a starting number of 100 to reach 1?
```
